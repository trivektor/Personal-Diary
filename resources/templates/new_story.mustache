<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' type='text/css' href='bootstrap.css'>
    <link rel='stylesheet' type='text/css' href='customizations.css'>
    <link rel='stylesheet' type='text/css' href='http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css'>
  </head>
  <body>
    <div id='story-form'>
      <div class='form-group'>
        <label class='sr-only'>Title</label>
        <input id='title' type='text' class='form-control' autocorrect='off' spellcheck='false' placeholder='Title of your story...' />
      </div>
      <div class='form-group'>
        <label class='sr-only'>Content</label>
        <textarea id='content' class='form-control' rows='8' autocorrect='off' spellcheck='false' placeholder='Content of your story...'></textarea>
      </div>
      <div class='form-group text-right'>
        <button id='submit-btn' type='button' class='btn btn-default'>Post</button>
      </div>
    </div>
    <script>
      var title = document.getElementById('title');
      var content = document.getElementById('content');
      var submitBtn = document.getElementById('submit-btn');
      var jsBridge;

      document.addEventListener('WebViewJavascriptBridgeReady', function(event) {
        jsBridge = event.bridge;

        jsBridge.init(function(message, responseCallback) {
          content.value += (content.value || '') + message.recognized_text;
        });

        submitBtn.addEventListener('click', function() {
          jsBridge.send({
            title: title.value || 'Untitled',
            content: content.value
          });
        }, false);
      });
    </script>
  </body>
</html>